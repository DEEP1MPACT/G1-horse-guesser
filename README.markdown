赛马猜猜呗

一个基于网页的赛马猜测游戏，灵感来源于 Wordle。玩家通过上传赛驹数据（`.xlsx` 格式）并猜测目标赛马的名称，系统会根据性别、G1 胜利数、最低赔率、参赛年份等信息提供反馈。支持赛驹别名，界面使用 Tailwind CSS 美化，数据处理依赖 XLSX.js。

## 功能

- **赛马猜测**：玩家输入赛驹名称或别名，猜测目标赛马，最多可尝试指定次数（默认 6 次）。
- **动态反馈**：每次猜测后，表格显示猜测赛驹的性别、G1 胜利数、最低赔率、参赛年份、特征（骑手、练马师等）及同场比赛情况，颜色提示与答案的接近程度。
- **数据导入**：支持从 `.xlsx` 文件导入赛驹数据和别名数据，自动处理无效行和格式。
- **年份过滤**：可设置比赛年份范围（如 1990-2025）和最小 G1 胜利数（如 1 次）。
- **别名支持**：玩家可通过别名猜测赛驹，系统自动映射到本名。
- **响应式界面**：使用 Tailwind CSS，适配桌面和移动设备。

## 技术栈

- **前端**：HTML, JavaScript, Tailwind CSS（CDN）
- **数据处理**：XLSX.js（CDN）用于解析 `.xlsx` 文件
- **部署**：静态网页，可通过本地或 Web 服务器运行

## 快速开始

### 前置条件

- **浏览器**：现代浏览器（如 Chrome、Firefox、Edge），支持 JavaScript 和 File API。
- **赛驹数据**：准备 `.xlsx` 文件，包含赛驹信息（见数据格式）。
- **别名数据**（可选）：准备 `.xlsx` 文件，包含赛驹别名。

### 安装

1. **克隆或下载项目**：

   ```bash
   git clone https://github.com/DEEP1MPACT/G1-horse-guesser.git
   ```

   或直接下载 `G1_horse_wordle.html` 和相关文件。

2. **运行游戏**：

   - **本地运行**：将 `G1_horse_wordle.html` 放入任意目录，用浏览器打开（推荐 Chrome）。

     - 注意：某些浏览器可能因安全限制无法加载本地 `.xlsx` 文件，建议使用 Web 服务器。

   - **通过服务器**：

     ```bash
     # 使用 Python 简单服务器
     python -m http.server 8000
     ```

     然后访问 `http://localhost:8000/G1_horse_wordle.html` 。

3. **确保 CDN 可用**：

   - 游戏依赖以下 CDN：
     - Tailwind CSS: `https://cdn.tailwindcss.com`
     - XLSX.js: `https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js`
   - 无需本地安装库。

### 使用方法

1. **打开游戏**： 在浏览器中打开 `G1_horse_wordle.html`，界面显示“赛马猜猜呗”标题和设置区域。

2. **上传数据**：

   - **赛驹数据**：选择 `.xlsx` 文件（格式见下文），点击上传。
   - **别名数据**（可选）：选择包含别名的 `.xlsx` 文件，点击上传。
   - 成功后会弹出提示（如“赛驹数据加载成功！”）。

3. **配置游戏**：

   - **起始年份**：输入比赛数据的最早年份（如 1990）。
   - **结束年份**：输入最晚年份（如 2025）。
   - **最大猜测次数**：设置允许的猜测次数（默认 6）。
   - **最小 G1 胜利数**：筛选至少有几次 G1 胜利的赛驹（默认 1）。
   - 点击“开始游戏”。

4. **游玩**：

   - 输入赛驹名称或别名，系统提供自动补全（显示本名和别名）。
   - 点击“猜测”，查看结果表格：
     - **绿色**：完全匹配或几乎完全匹配。
     - **黄色**：接近。
     - **红色/蓝色**：偏高/偏低（如赔率高于/低于答案）。
   - 剩余猜测次数显示在界面上。
   - 若猜对或用尽次数，游戏结束，显示答案并提供 netkeiba.com 链接。

5. **重新开始**： 点击“重新开始”返回设置界面。

## 数据格式

### 赛驹数据 (`.xlsx`)

  - `馬名`：赛驹名称（文本）。
  - `レース日付`：比赛日期。
  - `性別`：性别（`牡`、`牝`、`セ`）。
  - `騎手`：骑手名称。
  - `調教師`：练马师名称。
  - `馬主`：马主名称。
  - `着順`：比赛名次。
  - `レース名`：比赛名称。
  - `競馬場名`：赛场名称。
  - `単勝`：单胜赔率。
  - 无效行会被跳过并记录到控制台。
- **注意**
  - 项目中自带的赛驹数据仅包括1986 年至今中央赛马场的 G1 赛事和部分海外 G1 赛事，如果需要可以自行添加或删改数据

### 别名数据 (`.xlsx`)

- **列**：
  - `馬名`：赛驹本名（与赛驹数据中的 `馬名` 匹配）。
  - `别名`：逗号分隔的别名列表（如“`金之霸`, `辈出`”）。
- **要求**：
  - 每行必须包含 `馬名`，`别名` 可为空。
  - 无效行（`馬名` 不存在于赛驹数据）会被跳过并记录到控制台。
- **注意**
  - 项目中自带的别名数据仅包括示例，如果需要使用别名可以自行添加

## 文件结构

```
G1-horse-guesser/
├── G1_horse_wordle.html       # 主游戏文件（HTML + JavaScript）
├── README.md        # 项目说明（本文档）
└── assets/          # 存放xlsx数据
    └── G1_races.xlsx   # G1赛事数据（数据来源netkeiba）
    └── aliases.xlsx   # 赛驹别名数据（可自行添加）
```

## 开发与贡献

1. **运行开发环境**：

   - 编辑 `G1_horse_wordle.html`，使用本地服务器（如 `python -m http.server`）测试。
   - 确保 CDN 链接可用。

2. **提交代码**：

   - Fork 仓库，创建分支，提交 Pull Request。

## 注意事项

- **数据隐私**：上传的 `.xlsx` 文件仅在浏览器中处理，不会上云。
- **浏览器兼容性**：推荐 Chrome 或 Firefox，IE 可能不支持 File API。
- **数据质量**：确保 `.xlsx` 文件格式正确，错误数据可能导致游戏异常。
- **道德使用**：请勿将游戏用于商业用途，数据来源需遵守 netkeiba.com 的使用条款。


## 联系

- **GitHub**: DEEP1MPACT/G1-horse-guesser
- **问题反馈**：提交 Issue 或联系开发者。

---
